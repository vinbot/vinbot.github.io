<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NeetCode 150 Study Companion</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        html, body {
            height: 100%;
            margin: 0;
            overflow: hidden;
            font-family: 'Inter', sans-serif;
            background-color: #f1f5f9; /* bg-slate-100 */
        }
        .scroll-container {
            height: 100vh;
            overflow-y: scroll;
            scroll-snap-type: y mandatory;
        }
        .scroll-card {
            scroll-snap-align: start;
            height: 100vh;
            display: flex;
            flex-direction: column;
            padding: 1rem;
        }
        /* Flip card styles */
        .flip-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }
        .flip-card.is-flipped .flip-card-inner {
            transform: rotateY(180deg);
        }
        .flip-card-front, .flip-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden; /* Safari */
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            border-radius: 1rem; /* rounded-2xl */
            border: 1px solid #e2e8f0; /* border-slate-200 */
            background-color: white;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }
        .flip-card-back {
            transform: rotateY(180deg);
        }
        .card-content {
            flex-grow: 1;
            overflow-y: auto;
        }
        .card-content::-webkit-scrollbar { width: 4px; }
        .card-content::-webkit-scrollbar-track { background: transparent; }
        .card-content::-webkit-scrollbar-thumb { background: #94a3b8; border-radius: 2px; }
        
        pre, code {
            font-family: 'JetBrains Mono', monospace;
        }
        pre {
            background-color: #f8fafc; /* slate-50 */
            border: 1px solid #e2e8f0; /* slate-200 */
            border-radius: 0.5rem;
            padding: 1rem;
            font-size: 0.875rem;
            line-height: 1.5;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
    </style>
</head>
<body>

    <div id="scroll-container" class="scroll-container">
        <!-- Loading state -->
        <div id="loading-indicator" class="flex h-full items-center justify-center text-center">
            <div>
                <svg class="animate-spin h-8 w-8 text-slate-500 mx-auto" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                </svg>
                <p class="mt-2 text-slate-500">Loading problems...</p>
            </div>
        </div>
        <!-- Problem cards will be injected here -->
    </div>

    <!-- JSON Data with descriptions and solutions -->
    <script id="neetcode-data" type="application/json">
    {
      "topics": [
        {
          "topic_name": "Arrays & Hashing",
          "problems": [
            {"id": 217, "title": "Contains Duplicate", "difficulty": "Easy", "link": "https://leetcode.com/problems/contains-duplicate/", "description": "Given an integer array `nums`, determine if any value appears at least twice in the array. Return `true` if a duplicate exists, otherwise return `false`.", "details": {"key_idea": "Use a hash set to store unique elements as we traverse the list. If an element is already present in the set, we have found a duplicate.", "time_complexity": "O(n)", "space_complexity": "O(n)", "python_solution": "class Solution:\n    def containsDuplicate(self, nums: List[int]) -> bool:\n        hashset = set()\n\n        for n in nums:\n            if n in hashset:\n                return True\n            hashset.add(n)\n        return False"}},
            {"id": 242, "title": "Valid Anagram", "difficulty": "Easy", "link": "https://leetcode.com/problems/valid-anagram/", "description": "Given two strings `s` and `t`, return `true` if `t` is an anagram of `s`, and `false` otherwise. An anagram is a word formed by rearranging the letters of another, using all original letters exactly once.", "details": {"key_idea": "Use a hash map to count character frequencies for each string. If the frequency maps are identical, they are anagrams.", "time_complexity": "O(n)", "space_complexity": "O(1)", "python_solution": "class Solution:\n    def isAnagram(self, s: str, t: str) -> bool:\n        if len(s) != len(t):\n            return False\n\n        char_frequency = {}\n\n        for char in s:\n            char_frequency[char] = char_frequency.get(char, 0) + 1\n\n        for char in t:\n            if char not in char_frequency or char_frequency[char] == 0:\n                return False\n            char_frequency[char] -= 1\n\n        return True"}},
            {"id": 1, "title": "Two Sum", "difficulty": "Easy", "link": "https://leetcode.com/problems/two-sum/", "description": "Given an array of integers `nums` and a `target`, return indices of the two numbers that add up to `target`. Assume exactly one solution exists and you may not use the same element twice.", "details": {"key_idea": "Use a hash map to store elements and their indices. For each element, calculate the required complement (`target` - `num`) and check if it's in the map.", "time_complexity": "O(n)", "space_complexity": "O(n)", "python_solution": "class Solution:\n    def twoSum(self, nums: List[int], target: int) -> List[int]:\n        prevMap = {}\n\n        for i, n in enumerate(nums):\n            diff = target - n\n            if diff in prevMap:\n                return [prevMap[diff], i]\n            prevMap[n] = i"}},
            {"id": 49, "title": "Group Anagrams", "difficulty": "Medium", "link": "https://leetcode.com/problems/group-anagrams/", "description": "Given an array of strings `strs`, group the anagrams together. You can return the answer in any order.", "details": {"key_idea": "Use a hash map where the key is a sorted version of each word (or a character count tuple). The value will be a list of its anagrams.", "time_complexity": "O(n * m * log(m))", "space_complexity": "O(n * m)", "python_solution": "class Solution:\n    def groupAnagrams(self, strs: List[str]) -> List[List[str]]:\n        anagrams_map = {}\n\n        for word in strs:\n            sorted_word = \"\".join(sorted(word))\n            if sorted_word in anagrams_map:\n                anagrams_map[sorted_word].append(word)\n            else:\n                anagrams_map[sorted_word] = [word]\n\n        return list(anagrams_map.values())"}},
            {"id": 347, "title": "Top K Frequent Elements", "difficulty": "Medium", "link": "https://leetcode.com/problems/top-k-frequent-elements/", "description": "Given an integer array `nums` and an integer `k`, return the `k` most frequent elements. You may return the answer in any order.", "details": {"key_idea": "Use a hash map for frequency counts. Then, use a min-heap of size `k` to keep track of the top `k` frequent elements, or use Bucket Sort for an O(n) solution.", "time_complexity": "O(n)", "space_complexity": "O(n)", "python_solution": "import heapq\n\nclass Solution:\n    def topKFrequent(self, nums: List[int], k: int) -> List[int]:\n        frequency_map = {}\n        for num in nums:\n            frequency_map[num] = frequency_map.get(num, 0) + 1\n\n        min_heap = []\n        for num, frequency in frequency_map.items():\n            heapq.heappush(min_heap, (frequency, num))\n            if len(min_heap) > k:\n                heapq.heappop(min_heap)\n\n        return [num for frequency, num in min_heap]"}},
            {"id": 238, "title": "Product of Array Except Self", "difficulty": "Medium", "link": "https://leetcode.com/problems/product-of-array-except-self/", "description": "Given an integer array `nums`, return an array `answer` such that `answer[i]` is equal to the product of all the elements of `nums` except `nums[i]`. You must write an algorithm that runs in O(n) time and without using the division operation.", "details": {"key_idea": "Calculate prefix products in one pass (left-to-right) and suffix products in a second pass (right-to-left). The result for each index is the product of its corresponding prefix and suffix.", "time_complexity": "O(n)", "space_complexity": "O(1) (excluding output array)", "python_solution": "class Solution:\n    def productExceptSelf(self, nums: List[int]) -> List[int]:\n        n = len(nums)\n        result = [1] * n\n\n        left_product = 1\n        for i in range(n):\n            result[i] *= left_product\n            left_product *= nums[i]\n\n        right_product = 1\n        for i in range(n - 1, -1, -1):\n            result[i] *= right_product\n            right_product *= nums[i]\n\n        return result"}}
          ]
        },
        {
          "topic_name": "Two Pointers",
          "problems": [
            {"id": 125, "title": "Valid Palindrome", "difficulty": "Easy", "link": "https://leetcode.com/problems/valid-palindrome/", "description": "Given a string `s`, determine if it is a palindrome after converting all uppercase letters to lowercase and removing all non-alphanumeric characters.", "details": {"key_idea": "Use two pointers, one at the start and one at the end. Move them inwards, skipping non-alphanumeric characters, and compare the characters case-insensitively.", "time_complexity": "O(n)", "space_complexity": "O(1)", "python_solution": "class Solution:\n    def isPalindrome(self, s: str) -> bool:\n        left, right = 0, len(s) - 1\n\n        while left < right:\n            while left < right and not s[left].isalnum():\n                left += 1\n            while left < right and not s[right].isalnum():\n                right -= 1\n\n            if s[left].lower() != s[right].lower():\n                return False\n\n            left += 1\n            right -= 1\n\n        return True"}},
            {"id": 167, "title": "Two Sum II", "difficulty": "Medium", "link": "https://leetcode.com/problems/two-sum-ii-input-array-is-sorted/", "description": "Given a 1-indexed array of integers `numbers` that is already sorted in non-decreasing order, find two numbers such that they add up to a specific `target` number.", "details": {"key_idea": "Since the array is sorted, use two pointers (left at start, right at end). If sum is too small, move left pointer up. If too large, move right pointer down.", "time_complexity": "O(n)", "space_complexity": "O(1)", "python_solution": "class Solution:\n    def twoSum(self, numbers: List[int], target: int) -> List[int]:\n        left, right = 0, len(numbers) - 1\n\n        while left < right:\n            current_sum = numbers[left] + numbers[right]\n\n            if current_sum == target:\n                return [left + 1, right + 1]\n            elif current_sum < target:\n                left += 1\n            else:\n                right -= 1\n\n        return [-1, -1]"}}
          ]
        }
      ]
    }
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const dataElement = document.getElementById('neetcode-data');
            const data = JSON.parse(dataElement.textContent);
            const scrollContainer = document.getElementById('scroll-container');

            const difficultyColors = {
                'Easy': 'bg-green-100 text-green-800',
                'Medium': 'bg-orange-100 text-orange-800',
                'Hard': 'bg-red-100 text-red-800'
            };

            function createProblemCard(problem, topicName) {
                const cardWrapper = document.createElement('div');
                cardWrapper.className = 'scroll-card';

                const flipCard = document.createElement('div');
                flipCard.className = 'flip-card w-full h-full';
                flipCard.style.perspective = '1000px';

                const flipCardInner = document.createElement('div');
                flipCardInner.className = 'flip-card-inner';

                // --- Card Front ---
                const cardFront = document.createElement('div');
                cardFront.className = 'flip-card-front';
                cardFront.innerHTML = `
                    <header class="p-4 border-b border-slate-200 flex-shrink-0">
                        <p class="text-sm font-medium text-indigo-600">${topicName}</p>
                        <h2 class="text-2xl font-bold text-slate-800 mt-1">${problem.title}</h2>
                        <div class="flex items-center justify-between mt-2">
                            <span class="text-sm font-medium px-2.5 py-1 rounded-full ${difficultyColors[problem.difficulty]}">${problem.difficulty}</span>
                            <span class="text-sm text-slate-500">ID: ${problem.id}</span>
                        </div>
                    </header>
                    <div class="card-content p-6 space-y-4">
                        <h4 class="font-semibold text-slate-700">Problem Description</h4>
                        <p class="text-slate-600 leading-relaxed">${problem.description.replace(/`([^`]+)`/g, '<code class="bg-slate-100 text-slate-800 font-mono text-sm px-1 py-0.5 rounded">\$1</code>')}</p>
                    </div>
                    <footer class="p-4 mt-auto flex-shrink-0 border-t border-slate-200">
                        <button class="w-full text-center bg-indigo-600 text-white font-semibold py-3 rounded-lg hover:bg-indigo-500 transition-colors flip-button">
                            Flip to see Key Idea
                        </button>
                    </footer>
                `;

                // --- Card Back ---
                const cardBack = document.createElement('div');
                cardBack.className = 'flip-card-back';
                
                // Sanitize topic name for the ID to remove invalid characters
                const sanitizedTopicName = topicName.replace(/[^a-zA-Z0-9-]/g, '').replace(/\s+/g, '-');
                const solutionContainerId = `solution-${sanitizedTopicName}-${problem.id}`;
                
                cardBack.innerHTML = `
                    <header class="p-4 border-b border-slate-200 flex-shrink-0">
                        <p class="text-sm font-medium text-indigo-600">${topicName}</p>
                        <h2 class="text-2xl font-bold text-slate-800 mt-1">${problem.title}</h2>
                         <div class="flex items-center justify-between mt-2">
                            <span class="text-sm font-medium px-2.5 py-1 rounded-full ${difficultyColors[problem.difficulty]}">${problem.difficulty}</span>
                            <a href="${problem.link}" target="_blank" class="text-sm text-indigo-600 hover:underline">View on LeetCode →</a>
                        </div>
                    </header>
                    <div class="card-content p-6 space-y-6">
                        <div>
                            <h4 class="font-semibold text-slate-700 mb-2">Key Idea</h4>
                            <p class="text-slate-600 leading-relaxed">${problem.details.key_idea || 'Not available.'}</p>
                        </div>
                        <div class="grid grid-cols-2 gap-4 text-center">
                            <div class="bg-slate-100 p-3 rounded-lg">
                                <p class="text-sm text-slate-500">Time Complexity</p>
                                <p class="font-mono font-medium text-slate-800">${problem.details.time_complexity || 'N/A'}</p>
                            </div>
                            <div class="bg-slate-100 p-3 rounded-lg">
                                <p class="text-sm text-slate-500">Space Complexity</p>
                                <p class="font-mono font-medium text-slate-800">${problem.details.space_complexity || 'N/A'}</p>
                            </div>
                        </div>
                        <div>
                            <button class="w-full text-left font-semibold text-slate-700 mb-2 solution-toggle-button">
                                <span class="arrow">▶</span> Python Solution
                            </button>
                            <div id="${solutionContainerId}" class="solution-container hidden">
                                <pre><code>${problem.details.python_solution.replace(/</g, "&lt;").replace(/>/g, "&gt;")}</code></pre>
                            </div>
                        </div>
                    </div>
                    <footer class="p-4 mt-auto flex-shrink-0 border-t border-slate-200">
                         <button class="w-full text-center bg-slate-200 text-slate-800 font-semibold py-3 rounded-lg hover:bg-slate-300 transition-colors flip-button">
                            Flip back to Description
                        </button>
                    </footer>
                `;

                flipCardInner.appendChild(cardFront);
                flipCardInner.appendChild(cardBack);
                flipCard.appendChild(flipCardInner);
                cardWrapper.appendChild(flipCard);

                // Add flip functionality
                cardWrapper.querySelectorAll('.flip-button').forEach(button => {
                    button.addEventListener('click', () => {
                        flipCard.classList.toggle('is-flipped');
                    });
                });
                
                // Add solution toggle functionality
                const solutionToggleButton = cardBack.querySelector('.solution-toggle-button');
                const solutionContainer = cardBack.querySelector(`#${solutionContainerId}`);
                solutionToggleButton.addEventListener('click', () => {
                    solutionContainer.classList.toggle('hidden');
                    const arrow = solutionToggleButton.querySelector('.arrow');
                    arrow.textContent = solutionContainer.classList.contains('hidden') ? '▶' : '▼';
                });


                return cardWrapper;
            }
            
            // Clear loading indicator and build UI
            scrollContainer.innerHTML = ''; 

            data.topics.forEach(topic => {
                topic.problems.forEach(problem => {
                    if (problem.details && problem.description && problem.details.python_solution) {
                        const card = createProblemCard(problem, topic.topic_name);
                        scrollContainer.appendChild(card);
                    }
                });
            });
        });
    </script>
</body>
</html>
